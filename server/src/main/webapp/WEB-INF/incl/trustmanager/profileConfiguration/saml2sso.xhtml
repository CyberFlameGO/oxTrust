<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ox="http://xmlns.jcp.org/jsf/composite/ox"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:richext="http://xmlns.jcp.org/jsf/composite/richext">
	<div class="row"
		style="padding-left: 5px; padding-right: 5px; max-height: 300px; overflow-x: scroll;">
		<h4 style="text-align: center;">#{msg['trustmanager.saml2SSOProfileHelp']}</h4>
		<h6 style="text-align: center;">#{msg['trustmanager.thisProfileConfiguration']}</h6>
		<br></br>
		<div class="col-sm-12 col-md-6 col-lg-6">
			<b:form horizontal="true">
				<b:formGroup>
					<b:selectOneMenu label-small-screen="4" small-screen="8"
						label="#{msg['trustmanager.signAssertions']}"
						value="#{_ssoProfile.signAssertions}">
						<f:selectItem itemLabel="#{msg['trustmanager.never']}"
							itemValue="never" />
						<f:selectItem itemLabel="#{msg['trustmanager.conditional']}"
							itemValue="conditional" />
						<f:selectItem itemLabel="#{msg['trustmanager.always']}"
							itemValue="always" />
					</b:selectOneMenu>
				</b:formGroup>
				<b:formGroup>
					<b:selectOneMenu label-small-screen="4" small-screen="8"
						label="#{msg['trustmanager.signRequests']}"
						value="#{_ssoProfile.signRequests}">
						<f:selectItem itemLabel="#{msg['trustmanager.never']}"
							itemValue="never" />
						<f:selectItem itemLabel="#{msg['trustmanager.conditional']}"
							itemValue="conditional" />
						<f:selectItem itemLabel="#{msg['trustmanager.always']}"
							itemValue="always" />
					</b:selectOneMenu>
				</b:formGroup>
				<b:formGroup>
					<b:selectBooleanCheckbox label-small-screen="8" small-screen="4"
						value="#{_ssoProfile.includeAttributeStatement}"
						label="#{msg['trustmanager.includeAttributeStatement']}" />
				</b:formGroup>
			</b:form>
		</div>
		<div class="col-sm-12 col-md-6 col-lg-6">
			<b:form horizontal="true">
				<b:formGroup>
					<b:selectOneMenu label-small-screen="5" small-screen="7"
						label="#{msg['trustmanager.encryptAssertions']}"
						value="#{_ssoProfile.encryptAssertions}">
						<f:selectItem itemLabel="#{msg['trustmanager.never']}"
							itemValue="never" />
						<f:selectItem itemLabel="#{msg['trustmanager.conditional']}"
							itemValue="conditional" />
						<f:selectItem itemLabel="#{msg['trustmanager.always']}"
							itemValue="always" />
					</b:selectOneMenu>
				</b:formGroup>
				<b:formGroup>
					<b:selectOneMenu label-small-screen="5" small-screen="7"
						label="Default Authn Methods:"
						value="#{_ssoProfile.defaultAuthenticationMethod}">
						<f:selectItem itemLabel="none" itemValue="none" />
						<f:selectItems itemLabel="#{item}" itemValue="#{item}" var="item"
							value="#{_relyingPartyAction.getAllAcrs()}" />
					</b:selectOneMenu>
				</b:formGroup>
				<b:formGroup>
					<h:outputText
						style="color:black;font-weight: bold;font-size: 14px; margin-right:10px; margin-left:10px;"
						value="Support Unspecified NameIdFormat?" />
					<h:selectBooleanCheckbox
						id="unspecifiedNameIDFormatSupportedCheckBox" immediate="true"
						value="#{_relyingPartyAction.unspecifiedNameIDFormatSupported}"
						valueChangeListener="#{_relyingPartyAction.handleUnspecifiedNameIDFormatSupportedCheckBox}"
						style="margin-left: 30px">
						<a4j:ajax event="click" render="samlNameIdFormatPickList"
							execute="@this" limitRender="true" />
					</h:selectBooleanCheckbox>
				</b:formGroup>
			</b:form>
		</div>
		<b:form horizontal="true" appendId="false">
			<b:formGroup styleClass="NameIDPickingList">
				<rich:pickList id="samlNameIdFormatPickList" orderable="true"
					sourceCaption="Available NamedId Formats" listWidth="330"
					targetCaption="Selected NamedId Formats(in order of preference)"
					value="#{_ssoProfile.nameIDFormatPrecedenceList}">
					<f:selectItems
						itemLabel="#{nameIdFormat.substring(19,nameIdFormat.length())}"
						itemValue="#{nameIdFormat}"
						value="#{_relyingPartyAction.getSupportedNameIdFormats()}"
						var="nameIdFormat" />
				</rich:pickList>
			</b:formGroup>
		</b:form>
		<div class="row" style="margin-bottom: 1px;"></div>
		<b:panelGrid id="saml2sso" colSpans="3,9"
			rendered="#{_relyingPartyAction.isProfileConfigurationSelected('SAML2SSO')}">
			<rich:fileUpload id="SAML2SSOWrapperId"
				fileName="#{_relyingPartyAction.fileWrappers.get('SAML2SSO').fileName}"
				data="#{_relyingPartyAction.fileWrappers.get('SAML2SSO').stream}"
				fileSize="#{_relyingPartyAction.fileWrappers.get('SAML2SSO').fileSize}"
				contentType="#{_relyingPartyAction.fileWrappers.get('SAML2SSO').contentType}"
				maxlength="100" style="height:100px;"
				rendered="#{empty _ssoProfile.profileConfigurationCertFileName}"
				immediate="true">
			</rich:fileUpload>
			<h:panelGrid
				rendered="#{not empty _ssoProfile.profileConfigurationCertFileName}">
				<h:outputText style="font-weight:bold;"
					value="#{_ssoProfile.profileConfigurationCertFileName}"
					rendered="#{not empty _ssoProfile.profileConfigurationCertFileName}" />
				<a4j:commandLink
					action="#{_ssoProfile.setProfileConfigurationCertFileName('')}"
					limitRender="true" render="SAML2SSOMenu"
					rendered="#{not empty _ssoProfile.profileConfigurationCertFileName}"
					execute="@this">
					<h:graphicImage value="/img/remove.gif" />
				</a4j:commandLink>
			</h:panelGrid>
		</b:panelGrid>
	</div>
</ui:composition>